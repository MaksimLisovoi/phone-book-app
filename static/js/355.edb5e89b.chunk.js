"use strict";(self.webpackChunkphone_book_app=self.webpackChunkphone_book_app||[]).push([[355],{8655:function(n,e,t){t.d(e,{P:function(){return s}});var r,a=t(168),o=t(8789),i=t(9727),s=(0,o.ZP)(i.Z)(r||(r=(0,a.Z)(["\n  min-height: calc(100vh - 140px);\n  align-items: center;\n  justify-content: center;\n"])))},9355:function(n,e,t){t.r(e),t.d(e,{default:function(){return J}});var r,a,o,i,s=t(9439),c=t(9457),u=t(1413),l=t(5302),d=t(873),h=function(n){return n.filter},m=((0,d.P1)([function(n){return n.contacts.myContacts},h],(function(n,e){var t=e.toLowerCase();if(console.log("\u042f \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0441\u044f"),n.length>0)return n.filter((function(n){return n.name.toLowerCase().includes(t)}))})),t(5048)),f=t(4165),p=t(5861),x=t(168),b=t(8789),Z=b.ZP.li(r||(r=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  border: ",";\n  border-radius: ",";\n  padding: ",";\n\n  :not(:last-child) {\n    margin-bottom: ",";\n  }\n"])),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),g=(b.ZP.button(a||(a=(0,x.Z)(["\n  margin-left: ",";\n  padding: ",";\n  background-color: ",";\n  color: ",";\n  border: ",";\n  border-radius: ",";\n  cursor: pointer;\n  transition: background-color 200ms ease-in-out;\n\n  &:disabled {\n    background-color: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.borders.none}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.lightgray}),(function(n){return n.theme.colors.secondary})),b.ZP.p(o||(o=(0,x.Z)(["\n  margin-left: 5px;\n"]))),b.ZP.p(i||(i=(0,x.Z)([""]))),t(5103)),j=t(8402),v=t(184),k=function(){return(0,v.jsx)(c.x,{display:"inline-block",mr:2,children:(0,v.jsx)(j.s5,{strokeColor:"white",width:"14"})})},C=t(5218),w=t(890),y=function(n){var e=n.name,t=n.number,r=n.id,a=(0,l.Nt)(),o=(0,s.Z)(a,2),i=o[0],c=o[1].isLoading,u=function(){var n=(0,p.Z)((0,f.Z)().mark((function n(e){return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i(e);case 3:C.ZP.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0434\u0430\u043b\u0451\u043d"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),C.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}();return(0,v.jsxs)(Z,{children:[(0,v.jsxs)(w.Z,{children:[e,": ",t]}),(0,v.jsx)(g.Z,{onClick:function(){return u(r)},loading:c,variant:"outlined",size:"small",children:"Delete"})]})},P=t(5203),A=t(6895),L=function(n){var e=n.checkContacts,t=(0,m.v9)(h),r=(0,m.I0)();return(0,v.jsx)(c.x,{mb:"4",width:"50%",children:(0,v.jsx)(P.Z,{disabled:!e,fullWidth:!0,label:"Filter by name",type:"text",value:t,onChange:function(n){var e=n.target.value;r((0,A.T)(e))}})})},M=function(){var n=(0,l.bC)(),e=n.data,t=n.isLoading,r=n.error,a=(0,m.v9)(h),o=e&&e.length>0,i=function(){var n=a.toLowerCase();if(o)return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}(),s=t&&!r;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(L,{checkContacts:o}),s?(0,v.jsx)("b",{children:"Request in progress..."}):(0,v.jsx)("ul",{children:i?i.map((function(n){return(0,v.jsx)(y,(0,u.Z)({},n),n.id)})):(0,v.jsx)(w.Z,{fontWeight:500,children:"There are no contacts in your Phonebook!"})})]})},z=t(4967),S=t(2791),F=t(8530),W=t(1459),T=t(627),_=t(2739),q=t(4708);function D(n){var e=n.handleCloseModal,t=(0,S.useState)(""),r=(0,s.Z)(t,2),a=r[0],o=r[1],i=(0,S.useState)(""),c=(0,s.Z)(i,2),u=c[0],d=c[1],h=(0,l.bC)().data,m=(0,l.Tn)(),x=(0,s.Z)(m,2),b=x[0],Z=x[1].isLoading,g=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":o(r);break;case"number":d(r);break;default:return}},j=function(){var n=(0,p.Z)((0,f.Z)().mark((function n(t){var r;return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),r={name:a,number:u},!h.some((function(n){return n.name.toLowerCase()===r.name.toLowerCase()}))){n.next=4;break}return n.abrupt("return",alert("".concat(r.name," is already in contacts")));case 4:return n.prev=4,n.next=7,b(r);case 7:C.ZP.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),e(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),C.ZP.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430");case 14:y();case 15:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}(),y=function(){o(""),d("")};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(q.ZP,{}),(0,v.jsx)(F.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,v.jsxs)(F.Z,{component:"form",onSubmit:j,sx:{mt:1},children:[(0,v.jsx)(w.Z,{fontSize:24,align:"center",children:"Add contact"}),(0,v.jsx)(P.Z,{margin:"normal",required:!0,fullWidth:!0,onChange:g,type:"name",name:"name",label:"Name",value:a,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}),(0,v.jsx)(P.Z,{margin:"normal",required:!0,fullWidth:!0,onChange:g,type:"tel",name:"number",label:"Phone number",value:u,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}),(0,v.jsxs)(z.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:[Z&&(0,v.jsx)(k,{}),"Add contact"]})]})})]})}var N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},I=function(n){var e=n.isModalOpen,t=n.handleCloseModal;return(0,v.jsx)(W.Z,{open:e,onClose:t,closeAfterTransition:!0,slots:{backdrop:_.Z},slotProps:{backdrop:{timeout:500}},children:(0,v.jsx)(T.Z,{in:e,children:(0,v.jsx)(F.Z,{sx:N,children:(0,v.jsx)(D,{handleCloseModal:t})})})})},O=t(2588),B=t(8655);function J(){var n=(0,S.useState)(!1),e=(0,s.Z)(n,2),t=e[0],r=e[1];return(0,v.jsxs)(B.P,{component:"main",children:[t&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(I,{isModalOpen:t,handleCloseModal:function(){r(!1)}})}),(0,v.jsxs)(c.x,{p:5,children:[(0,v.jsx)(O.Z,{}),(0,v.jsx)(w.Z,{variant:"h5",fontSize:28,mb:2,children:"My contacts"}),(0,v.jsx)(z.Z,{onClick:function(){r(!0)},variant:"contained",sx:{mb:2},children:"Add Contact"}),(0,v.jsx)(M,{})]})]})}}}]);
//# sourceMappingURL=355.edb5e89b.chunk.js.map